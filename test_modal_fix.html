<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Modal Z-Index Fix Test</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <script
            src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"
            defer
        ></script>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        />
    </head>
    <body class="bg-gray-100">
        <div
            class="container mx-auto p-6"
            x-data="{
        showVerificationModal: false,
        showImagePreview: false,
        showRejectReasonModal: false,
        previewImageUrl: 'https://via.placeholder.com/600x400/4F46E5/ffffff?text=Sample+ID+Card'
    }"
        >
            <h1 class="text-2xl font-bold mb-6">
                ID Verification Modal Z-Index Fix Test
            </h1>

            <div class="space-y-4">
                <button
                    @click="showVerificationModal = true"
                    class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded"
                >
                    Open Verification Modal (z-50)
                </button>

                <div class="text-sm text-gray-600">
                    <p><strong>Fixed Z-Index Hierarchy:</strong></p>
                    <ul class="list-disc list-inside mt-2 space-y-1">
                        <li>
                            Main Verification Modal:
                            <code class="bg-gray-200 px-1 rounded">z-50</code>
                        </li>
                        <li>
                            Reject Reason Modal:
                            <code class="bg-yellow-200 px-1 rounded"
                                >z-[60]</code
                            >
                        </li>
                        <li>
                            Image Preview Modal:
                            <code class="bg-green-200 px-1 rounded"
                                >z-[9999]</code
                            >
                            (highest)
                        </li>
                    </ul>
                </div>
            </div>

            <!-- ID Verification Modal (z-50) -->
            <div
                x-show="showVerificationModal"
                x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0"
                x-transition:enter-end="opacity-100"
                class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"
                @click.self="showVerificationModal = false"
            >
                <div
                    class="relative top-20 mx-auto p-5 border w-11/12 max-w-2xl shadow-lg rounded-md bg-white"
                >
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-medium text-gray-900">
                            ID Card Verifications
                        </h3>
                        <button
                            @click="showVerificationModal = false"
                            class="text-gray-400 hover:text-gray-600"
                        >
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>

                    <div class="space-y-4">
                        <!-- Sample verification card -->
                        <div class="border rounded-lg p-4 bg-gray-50">
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                                <div>
                                    <h4 class="font-medium text-gray-900 mb-2">
                                        John Doe
                                    </h4>
                                    <p class="text-sm text-gray-600 mb-2">
                                        john@example.com
                                    </p>
                                    <p class="text-sm">
                                        <span class="font-medium"
                                            >ID Type:</span
                                        >
                                        National ID
                                    </p>

                                    <div class="flex space-x-2 mt-4">
                                        <button
                                            @click="showImagePreview = true"
                                            class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded text-sm"
                                        >
                                            <i class="fas fa-eye mr-1"></i>
                                            View Image
                                        </button>
                                        <button
                                            @click="showRejectReasonModal = true"
                                            class="bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded text-sm"
                                        >
                                            <i class="fas fa-times mr-1"></i>
                                            Reject
                                        </button>
                                    </div>
                                </div>

                                <div>
                                    <p class="font-medium text-gray-900 mb-2">
                                        ID Card Image:
                                    </p>
                                    <div
                                        class="border rounded-lg overflow-hidden"
                                    >
                                        <img
                                            :src="previewImageUrl"
                                            alt="ID Card Preview"
                                            class="w-full h-32 object-contain bg-gray-100 cursor-pointer"
                                            @click="showImagePreview = true"
                                        />
                                    </div>
                                    <p class="text-xs text-gray-500 mt-1">
                                        Click image to view full size
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Image Preview Modal (z-[9999] - HIGHEST) -->
            <div
                x-show="showImagePreview"
                x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0"
                x-transition:enter-end="opacity-100"
                class="fixed inset-0 bg-black bg-opacity-75 overflow-y-auto h-full w-full z-[9999]"
                @click.self="showImagePreview = false"
            >
                <div class="relative top-20 mx-auto p-5 w-11/12 max-w-4xl">
                    <div class="bg-white rounded-lg overflow-hidden">
                        <div
                            class="flex items-center justify-between p-4 border-b"
                        >
                            <h3 class="text-lg font-medium text-gray-900">
                                ID Card Preview
                            </h3>
                            <button
                                @click="showImagePreview = false"
                                class="text-gray-400 hover:text-gray-600"
                            >
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>
                        <div class="p-4">
                            <img
                                :src="previewImageUrl"
                                alt="ID Card Preview"
                                class="w-full h-auto max-h-96 object-contain bg-gray-100"
                            />
                        </div>
                        <div class="p-4 bg-green-50 border-t">
                            <p class="text-green-800 text-sm">
                                <i class="fas fa-check-circle mr-2"></i>
                                <strong>âœ… Fixed!</strong> This image preview
                                modal now appears on top with z-[9999]
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reject Reason Modal (z-[60]) -->
            <div
                x-show="showRejectReasonModal"
                x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0"
                x-transition:enter-end="opacity-100"
                class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-[60]"
                @click.self="showRejectReasonModal = false"
            >
                <div
                    class="relative top-20 mx-auto p-5 border w-11/12 max-w-md shadow-lg rounded-md bg-white"
                >
                    <div class="mb-4">
                        <h3 class="text-lg font-medium text-gray-900">
                            Reject Verification
                        </h3>
                        <p class="text-sm text-gray-600 mt-1">
                            This modal appears above the main modal with z-[60]
                        </p>
                    </div>

                    <textarea
                        placeholder="Enter rejection reason..."
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                        rows="4"
                    ></textarea>

                    <div class="flex space-x-2 mt-4">
                        <button
                            class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm"
                        >
                            Reject Verification
                        </button>
                        <button
                            @click="showRejectReasonModal = false"
                            class="bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded text-sm"
                        >
                            Cancel
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
